{
  "timestamp": "2025-11-06T05:06:12.265Z",
  "testConfig": {
    "title": "TEST: Full Thread Flow Verification",
    "content": "# Test Thread\n\nThis is a **comprehensive test** of:\n\n## Markdown formatting\n- **Bold text**\n- *Italic text*\n- Lists and headers\n\n## Media content\nImage: ![Test Image](https://picsum.photos/200)\nVideo: https://www.youtube.com/watch?v=dQw4w9WgXcQ\n\n## Code block\n```javascript\nfunction testFunction() {\n  console.log(\"Hello, Nostr Forum!\");\n  return true;\n}\n```\n\n## Links\n[Nostr Protocol](https://nostr.com)\n\nThis thread validates:\nâœ… Thread creation with kind 30023\nâœ… Rich content rendering\nâœ… Reply system with kind 1\nâœ… Cross-client compatibility\nâœ… NIP-10 threading support",
    "selfReplyContent": "This is a self-reply from the author to test reply functionality and NIP-10 threading.",
    "board": "siamstr-test"
  },
  "instructions": "\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘              MANUAL END-TO-END TEST INSTRUCTIONS              â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nğŸŒ TEST SETUP:\n   â€¢ URL: http://localhost:3000\n   â€¢ Test Board: siamstr-test\n   â€¢ Thread Title: \"TEST: Full Thread Flow Verification\"\n\nğŸ“‹ STEP-BY-STEP TEST:\n\n1ï¸âƒ£  NAVIGATE TO TEST ROOM\n   â€¢ Open: http://localhost:3000/room/siamstr-test\n   â€¢ Verify room loads with proper header and styling\n   â€¢ Look for \"Create New Thread\" button\n\n2ï¸âƒ£  CREATE TEST THREAD\n   â€¢ Click \"Create New Thread\" button\n   â€¢ Fill in title field: \"TEST: Full Thread Flow Verification\"\n   â€¢ Fill in content field with the provided test content (above)\n   â€¢ Verify preview mode works correctly\n   â€¢ Click \"Publish Thread\"\n\n3ï¸âƒ£  VERIFY THREAD CREATION\n   â€¢ Check for success toast/alert message\n   â€¢ Verify modal closes and redirects back to room\n   â€¢ Look for the new thread in the thread list\n   â€¢ Verify title, author, and timestamp display correctly\n   â€¢ Check reply count shows \"0 replies\" initially\n\n4ï¸âƒ£  OPEN THREAD DETAIL\n   â€¢ Click on the newly created thread\n   â€¢ Verify thread detail view opens\n   â€¢ Check that all rich content renders properly:\n     - Headers (# ## ###)\n     - Bold and italic text\n     - Lists\n     - Image placeholder\n     - Video link\n     - Code block with syntax highlighting\n     - Links\n\n5ï¸âƒ£  VERIFY THREAD METADATA\n   â€¢ Check thread ID is displayed\n   â€¢ Verify view count increases on refresh\n   â€¢ Check reply count shows \"0 replies\"\n   â€¢ Verify thread tags are displayed (board, forum, webboard)\n   â€¢ Confirm author information is shown\n\n6ï¸âƒ£  POST SELF-REPLY\n   â€¢ Scroll to reply form at bottom\n   â€¢ Enter reply content: \"This is a self-reply from the author to test reply functionality and NIP-10 threading.\"\n   â€¢ Click \"Post Reply\" button\n   â€¢ Wait for success message\n   â€¢ Verify reply appears immediately\n\n7ï¸âƒ£  VERIFY REPLY FUNCTIONALITY\n   â€¢ Check reply count updates to \"1 reply\"\n   â€¢ Verify reply author matches current user\n   â€¢ Confirm reply content displays correctly\n   â€¢ Check reply timestamp\n   â€¢ Verify reply is kind: 1 with proper e and p tags\n\n8ï¸âƒ£  CROSS-CLIENT COMPATIBILITY CHECK\n   â€¢ Wait 30-60 seconds for relay propagation\n   â€¢ Open your Nostr npub in:\n     â€¢ Nostter: https://nostter.org\n     â€¢ Damus: https://damus.io or iOS app\n     â€¢ Primal: https://primal.net\n   â€¢ Verify in EACH client:\n     âœ“ Thread appears as long-form post/article\n     âœ“ Title is visible and correct\n     âœ“ Full content preserved including media links\n     âœ“ Custom tags present but don't break rendering\n     âœ“ Self-reply appears as comment/note under thread\n\nğŸ¯ EXPECTED RESULTS:\n\nTHREAD EVENT (kind: 30023):\n{\n  \"kind\": 30023,\n  \"tags\": [\n    [\"d\", \"test-thread-verification\"],\n    [\"title\", \"TEST: Full Thread Flow Verification\"],\n    [\"board\", \"siamstr-test\"],\n    [\"t\", \"forum\"],\n    [\"t\", \"webboard\"],\n    [\"published_at\", \"TIMESTAMP\"]\n  ],\n  \"content\": \"Full markdown content as specified above...\"\n}\n\nREPLY EVENT (kind: 1):\n{\n  \"kind\": 1,\n  \"tags\": [\n    [\"e\", \"THREAD_ID\", \"\", \"root\"],\n    [\"e\", \"THREAD_ID\", \"\", \"reply\"],\n    [\"p\", \"AUTHOR_PUBKEY\"],\n    [\"board\", \"siamstr-test\"],\n    [\"t\", \"forum\"],\n    [\"t\", \"webboard\"]\n  ],\n  \"content\": \"This is a self-reply from the author to test reply functionality and NIP-10 threading.\"\n}\n\nğŸ“Š TEST VALIDATION CHECKLIST:\n\nâ–¡ Thread created successfully\nâ–¡ Success toast appears\nâ–¡ Modal closes properly\nâ–¡ Thread appears in list view\nâ–¡ Thread detail view loads\nâ–¡ Rich content renders correctly:\n  â–¡ Headers display properly\n  â–¡ Bold/italic text works\n  â–¡ Images show as placeholders\n  â–¡ Video links are clickable\n  â–¡ Code blocks formatted\n  â–¡ Links are clickable\nâ–¡ View count functionality\nâ–¡ Reply count functionality\nâ–¡ Self-reply posted successfully\nâ–¡ Reply appears nested under thread\nâ–¡ Reply count updates to 1\nâ–¡ Author name matches NostrAuthContext\nâ–¡ Reply has correct event structure (kind: 1)\nâ–¡ Reply has proper e and p tags\nâ–¡ No console errors\nâ–¡ Cross-client compatibility verified:\n  â–¡ Nostter shows thread as article\n  â–¡ Damus displays thread and replies\n  â–¡ Primal renders markdown correctly\n  â–¡ All custom tags handled gracefully\n\nğŸš€ READY TO TEST:\n\nThe development server should be running on http://localhost:3000\nUse the instructions above to manually test the complete thread flow.\n\nThis test verifies:\nâ€¢ Complete thread creation workflow\nâ€¢ Rich content rendering and markdown support\nâ€¢ Reply system with proper NIP-10 threading\nâ€¢ Event structure compliance with Nostr specifications\nâ€¢ Cross-client compatibility with major Nostr clients\nâ€¢ UI/UX functionality (toasts, redirects, updates)\n\nGood luck! ğŸ‰\n",
  "manualTest": true,
  "notes": "This is a manual test - please follow the instructions above"
}